<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="../../../favicon.ico">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="hiding.css">
    <title>IFC.js</title>
</head>
<body>
<!-- <canvas id="three-canvas"></canvas> -->
<div>
</div>

<div class="checkboxes">
   <div>
        <input checked="true" id="3512223829" type="checkbox" onchange="checkBoxChange(event);">
        Walls
    </div>
    <div>
        <input checked="true" id="1529196076" type="checkbox" onchange="checkBoxChange(event);">
        Slabs
    </div>
    <div>
        <input checked="true" id="3304561284" type="checkbox" onchange="checkBoxChange(event);">
        Windows
    </div>
    <div>
        <input checked="true" id="263784265" type="checkbox" onchange="checkBoxChange(event);">
        Furniture
    </div>
    <div>
        <input checked="true" id="395920057" type="checkbox" onchange="checkBoxChange(event);">
        Doors
    </div>
    <div>
        <input checked="true" id="1073191201" type="checkbox" onchange="checkBoxChange(event);">
        Curtain wall structure
    </div>
    <div>
        <input checked="true" id="3171933400" type="checkbox" onchange="checkBoxChange(event);">
        Curtain wall plates
    </div>
	 <div>
        <input checked="true" id="3856911033" type="checkbox" onchange="checkBoxChange(event);">
        Space
    </div>
	 <div>
        <input checked="false" id="1111111111" type="checkbox" onchange="checkBoxChange(event);">
        Set Space Color
    </div>
	
</div>
 <script src="./resources/ifcJsViewer.js"></script> 
 
 
  <script>  
  var axis=1;
  var ifcScene= new ThreeScene();
  var ifcManager= new IfcManager();
  ifcScene.initialiseScene(2000,document.body);
  ifcManager.initialise();
  ifcManager.loadIFC("./IFC/demo.ifc",ifcScene.scene);
  var color233,color438,color678,color1233,color1836,color2567,color2870,color2393;
  function checkBoxChange(event) 
  { 
   debugger 
     hideAndShowObject(Number(event.target.id),event.target.checked);
      
  }	
 
async function hideAndShowObject(categoryId,checked)
{
    var ids= await ifcManager.ifcLoader.ifcManager.getAllItemsOfType(0, categoryId, false);
	
	if(categoryId==1111111111)
	{
	  // Hide all element and show only space
	   var ids = ifcManager.allIds.filter((x) => !ifcManager.spaces.includes(x));
		  ifcManager.hideElements(ids) ;
	 	 
	  if (!checked) 
		{	
		
		  
     	   color233= await  ifcManager.setColor(ifcScene.scene,[233],'#0BDA51',0.7,'11111',false) ;
		   color438= await  ifcManager.setColor(ifcScene.scene,[438],'#0BDA51',0.7,'11111',false) ;
		   color672= await  ifcManager.setColor(ifcScene.scene,[672],'#FF0000',0.7,'11111',false) ;
		   color1233= await  ifcManager.setColor(ifcScene.scene,[1233],'#FFFF8F',0.7,'11111',false);
		   color1836= await  ifcManager.setColor(ifcScene.scene,[1836],'#FFA500',0.7,'11111',false);
		   color2567= await  ifcManager.setColor(ifcScene.scene,[2567],'#93C572',0.7,'11111',false) ;
		   color2870= await  ifcManager.setColor(ifcScene.scene,[2870],'#FF0000',0.7,'11111',false) ;
		   color2393= await  ifcManager.setColor(ifcScene.scene,[2393],'#FF0000',0.7,'11111',false) ;
		} 
		<!-- else  -->
		<!-- { -->
		    <!-- ifcManager.removeColor(color233.material,'11111') ; -->
			<!-- ifcManager.removeColor(color438.material,'11111') ; -->
			<!-- ifcManager.removeColor(color678.material,'11111') ; -->
			<!-- ifcManager.removeColor(color1233.material,'11111') ; -->
			<!-- ifcManager.removeColor(color1836.material,'11111') ; -->
			<!-- ifcManager.removeColor(color2567.material,'11111') ; -->
			<!-- ifcManager.removeColor(color2870.material,'11111') ; -->
			<!-- ifcManager.removeColor(color2393.material,'11111') ; -->
		<!-- }  -->
	
	}
	else
	{
	
		if (checked) 
		{	 
		   ifcManager.showElments(ids,ifcScene.scene) ;
		} 
		else 
		{
		   ifcManager.hideElements(ids) ;
		} 
	}
}  
  </script> 
 
 
  </body>
</html>